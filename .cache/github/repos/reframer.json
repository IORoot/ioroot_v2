{
  "id": 994708467,
  "node_id": "R_kgDOO0oL8w",
  "name": "reframer",
  "full_name": "IORoot/reframer",
  "private": false,
  "owner": {
    "login": "IORoot",
    "id": 8770616,
    "node_id": "MDQ6VXNlcjg3NzA2MTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8770616?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/IORoot",
    "html_url": "https://github.com/IORoot",
    "followers_url": "https://api.github.com/users/IORoot/followers",
    "following_url": "https://api.github.com/users/IORoot/following{/other_user}",
    "gists_url": "https://api.github.com/users/IORoot/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/IORoot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/IORoot/subscriptions",
    "organizations_url": "https://api.github.com/users/IORoot/orgs",
    "repos_url": "https://api.github.com/users/IORoot/repos",
    "events_url": "https://api.github.com/users/IORoot/events{/privacy}",
    "received_events_url": "https://api.github.com/users/IORoot/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "html_url": "https://github.com/IORoot/reframer",
  "description": "Use AI to convert video aspect ratios with content tracking. CLI Version",
  "fork": false,
  "url": "https://api.github.com/repos/IORoot/reframer",
  "forks_url": "https://api.github.com/repos/IORoot/reframer/forks",
  "keys_url": "https://api.github.com/repos/IORoot/reframer/keys{/key_id}",
  "collaborators_url": "https://api.github.com/repos/IORoot/reframer/collaborators{/collaborator}",
  "teams_url": "https://api.github.com/repos/IORoot/reframer/teams",
  "hooks_url": "https://api.github.com/repos/IORoot/reframer/hooks",
  "issue_events_url": "https://api.github.com/repos/IORoot/reframer/issues/events{/number}",
  "events_url": "https://api.github.com/repos/IORoot/reframer/events",
  "assignees_url": "https://api.github.com/repos/IORoot/reframer/assignees{/user}",
  "branches_url": "https://api.github.com/repos/IORoot/reframer/branches{/branch}",
  "tags_url": "https://api.github.com/repos/IORoot/reframer/tags",
  "blobs_url": "https://api.github.com/repos/IORoot/reframer/git/blobs{/sha}",
  "git_tags_url": "https://api.github.com/repos/IORoot/reframer/git/tags{/sha}",
  "git_refs_url": "https://api.github.com/repos/IORoot/reframer/git/refs{/sha}",
  "trees_url": "https://api.github.com/repos/IORoot/reframer/git/trees{/sha}",
  "statuses_url": "https://api.github.com/repos/IORoot/reframer/statuses/{sha}",
  "languages_url": "https://api.github.com/repos/IORoot/reframer/languages",
  "stargazers_url": "https://api.github.com/repos/IORoot/reframer/stargazers",
  "contributors_url": "https://api.github.com/repos/IORoot/reframer/contributors",
  "subscribers_url": "https://api.github.com/repos/IORoot/reframer/subscribers",
  "subscription_url": "https://api.github.com/repos/IORoot/reframer/subscription",
  "commits_url": "https://api.github.com/repos/IORoot/reframer/commits{/sha}",
  "git_commits_url": "https://api.github.com/repos/IORoot/reframer/git/commits{/sha}",
  "comments_url": "https://api.github.com/repos/IORoot/reframer/comments{/number}",
  "issue_comment_url": "https://api.github.com/repos/IORoot/reframer/issues/comments{/number}",
  "contents_url": "https://api.github.com/repos/IORoot/reframer/contents/{+path}",
  "compare_url": "https://api.github.com/repos/IORoot/reframer/compare/{base}...{head}",
  "merges_url": "https://api.github.com/repos/IORoot/reframer/merges",
  "archive_url": "https://api.github.com/repos/IORoot/reframer/{archive_format}{/ref}",
  "downloads_url": "https://api.github.com/repos/IORoot/reframer/downloads",
  "issues_url": "https://api.github.com/repos/IORoot/reframer/issues{/number}",
  "pulls_url": "https://api.github.com/repos/IORoot/reframer/pulls{/number}",
  "milestones_url": "https://api.github.com/repos/IORoot/reframer/milestones{/number}",
  "notifications_url": "https://api.github.com/repos/IORoot/reframer/notifications{?since,all,participating}",
  "labels_url": "https://api.github.com/repos/IORoot/reframer/labels{/name}",
  "releases_url": "https://api.github.com/repos/IORoot/reframer/releases{/id}",
  "deployments_url": "https://api.github.com/repos/IORoot/reframer/deployments",
  "created_at": "2025-06-02T11:08:47Z",
  "updated_at": "2025-07-22T07:31:43Z",
  "pushed_at": "2025-07-21T11:07:20Z",
  "git_url": "git://github.com/IORoot/reframer.git",
  "ssh_url": "git@github.com:IORoot/reframer.git",
  "clone_url": "https://github.com/IORoot/reframer.git",
  "svn_url": "https://github.com/IORoot/reframer",
  "homepage": "",
  "size": 330405,
  "stargazers_count": 0,
  "watchers_count": 0,
  "language": "Python",
  "has_issues": true,
  "has_projects": true,
  "has_downloads": true,
  "has_wiki": true,
  "has_pages": false,
  "has_discussions": false,
  "forks_count": 0,
  "mirror_url": null,
  "archived": false,
  "disabled": false,
  "open_issues_count": 0,
  "license": null,
  "allow_forking": true,
  "is_template": false,
  "web_commit_signoff_required": false,
  "topics": [
    "ai",
    "ffmpeg",
    "video-processing"
  ],
  "visibility": "public",
  "forks": 0,
  "open_issues": 0,
  "watchers": 0,
  "default_branch": "master",
  "permissions": {
    "admin": true,
    "maintain": true,
    "push": true,
    "triage": true,
    "pull": true
  },
  "readme_content": "![header](https://raw.githubusercontent.com/IORoot/reframer/refs/heads/master/header.jpg)\n\n# AI Video Reframe CLI\n\nA command-line tool for batch converting landscape to portrait videos using AI.\n\nforked from [https://github.com/Sagar-lab03/AI-Content-Aware-Video-Cropping](https://github.com/Sagar-lab03/AI-Content-Aware-Video-Cropping)\n\n---\n\n## Intro\n\nThis CLI tool detects motion in videos and crops the content dynamically, keeping the main subject in the frame. It processes videos through the command line, making it ideal for batch processing and automation.\n\nKey features:\n- Speed vs Quality control: Configure how many frames to process with AI\n- Customizable aspect ratio\n- FFMPEG integration for audio handling and video trimming\n- Batch processing support\n\nThere are many settings, but the main ones are:\n- Speed vs Quality : You can select how many frames to use AI on. The more you do, the better the tracking but the longer it takes.\n- Aspect Ratio : Specify the size of the reframe.\n- FFMPEG : Used to keep audio and do custom functions like trimming the footage.\n\n---\n\n## Requirements\n1. Python 3\n2. [FFMPEG](https://github.com/FFmpeg/FFmpeg)\n\n> This runs linux/macos shell scripts - but it easily can be run in windows if needed. Just read the `run.sh` file and run commands by hand.\n\n---\n\n## Installation\n\n1. Clone this repository:\n```bash\ngit clone https://github.com/IORoot/AI_Video_Reframe\n```\n\n2. Setup virtual environment\n```bash\ncd AI_Video_Reframe\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n```\n\n3. Install dependencies:\n```bash\npip install -r requirements.txt\n```\n\n\n## Run a single file\n\nTo accept the defaults and convert landscape 16:9 videos to 3:4 videos, do this:\n```bash\n./run.sh /Location/of/MP4/file.mp4\n```\n\n## Changing the settings\n\nThe main line to run the code is:\n```bash\npython main.py --input \"${FILENAME}\" --output \"${PROCESSED_FILENAME}\" --model_size m --skip_frames 3 --smoothing_window 30 --conf_threshold 0.5 --use_saliency --max_workers 6 --target_ratio 0.75\n```\n\n### Parameters\n\n| Parameter | Description | Default |\n|-----------|-------------|---------|\n| `--input` | Path to input video file | Required |\n| `--output` | Path to output video file | Required |\n| `--target_ratio` | Target aspect ratio (width/height) | 0.5625 (9:16) |\n| `--model_size` | YOLOv8 model size (n, s, m, l, x) | n (nano) |\n| `--skip_frames` | Process every Nth frame for detection | 10 |\n| `--smoothing_window` | Number of frames for temporal smoothing | 30 |\n| `--conf_threshold` | Confidence threshold for detections | 0.5 |\n| `--use_saliency` | Enable saliency detection | False |\n| `--max_workers` | Maximum number of worker threads | 4 |\n\n### Model Size Selection Guide\n\n| Model Size | Flag | Description | Use Case |\n|------------|------|-------------|----------|\n| Nano (n) | `--model_size n` | Smallest and fastest model | Testing or low-power devices |\n| Small (s) | `--model_size s` | Good balance for mobile devices | Mobile applications |\n| Medium (m) | `--model_size m` | Balanced model | General purpose detection |\n| Large (l) | `--model_size l` | Higher accuracy, slower speed | When accuracy is more important |\n| XLarge (x) | `--model_size x` | Highest accuracy, slowest speed | When maximum accuracy is required |\n\n\n---\n\n### Scenarios:\n\nI've found that if you want highly accurate (but very slow processing) video reframing, you need to do the following flags:\n```bash\n--skip_frames 0   # Use AI to detect movement on EVERY Frame\n--model_size x    # Use biggest AI Model\n--max_workers 8   # Or the number of CPU cores you have\n```\n\nDo a good job of tracking, but fast movements might not be caught:\n```bash\n--skip_frames 3   # Skip 3 frames, and then use AI on 1. Repeat.\n--model_size m    # use the medium AI model\n--max_workers 6   # 75% of All cores\n```\n\nFast, but inaccurate tracking - good for low movement or interview videos:\n```bash\n--skip_frames 30  # on a 30fps video, use 1 frame per second.\n--model_size s    # use a small AI Model\n--max_workers 6   # 75% of cores\n```\n\nThere are a lot more settings and the python code can be changed to make even more alterations too.\n\n---\n\n## Batch Runs\n\nUse like so:\n\n```bash\n./run_batch.sh /folder/with/videos/in/ \n```\n\nThis will find all `mp4` files in any subdirectory within that folder. It will then create a new file\ncalled `run_all_found_files.sh` which lists every file and the run command against each one. \n\nThe reason that I prefer using this method rather than just a loop over each file and running it is\nbecause you can open up the `run_all_found_files.sh` file and check how far the batch has got through.\nIt also allow you to cancel the process at any time and then start again (it will skip any already done)\nwithout a problem.\n\nOnce all videos are converted, the `run_all_found_files.sh` file is removed.\n\n\n## Output\n\nThe reframed videos will be in a subfolder within the directory of the found video file.\n\nFFMPEG is used to copy the audio from the original to the reframed version since the main\npython code does not do that.\n\n\n## Credit\n\nThis code was originally from [https://github.com/Sagar-lab03/AI-Content-Aware-Video-Cropping](https://github.com/Sagar-lab03/AI-Content-Aware-Video-Cropping) and all the AI work is theirs.\nI've slightly adapted it to include the `bash` scripts and FFMPEG bits for my own usage.\n",
  "readme_html": "https://github.com/IORoot/reframer/blob/master/README.md",
  "last_cached": "2025-07-29T16:32:52.132Z"
}